(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"6VoE":function(e,t,a){var r=a("tiKp"),l=a("P4y1"),o=r("iterator"),n=Array.prototype;e.exports=function(e){return void 0!==e&&(l.Array===e||n[o]===e)}},"6shW":function(e,t,a){"use strict";var r=a("KQm4"),l=(a("ToJy"),a("q1tI")),o=a.n(l),n=a("4ZJM"),c=a.n(n),i=a("8ubX"),s=a("k1QJ"),d=a("WyT8"),u=a("y78a"),f=(a("wfmh"),a("Wbzz")),m=a("Q0VS"),p=a.n(m),y=a("4vSH"),b=a.n(y),v=a("UrXV"),E=function(e){var t=e.state,a=Object(f.useStaticQuery)("1279060496"),r=a.allCovidGradeStateAssessment.nodes.find((function(e){return e.state===t})),l=a.allCovidStateInfo.nodes.find((function(e){return e.state===t}));return r?o.a.createElement("div",{className:b.a.alert},o.a.createElement("p",null,o.a.createElement("img",{src:v.d[r.ltc],alt:"","aria-hidden":!0}),o.a.createElement(f.Link,{to:"/data/state/"+l.childSlug.slug+"/assessment#long-term-care"},v.b[r.ltc]," issues exist")," ","for long-term-care data")):null},h={ltc:[{title:"Resident cases",field:"resident_positives"},{title:"Resident deaths",field:"resident_deaths"},{title:"Staff cases",field:"staff_positive"},{title:"Staff deaths",field:"staff_deaths"},{title:"Resident & staff cases",field:"resident_staff_positives"},{title:"Resident & staff deaths",field:"resident_staff_deaths"},{title:"Outbreak resident cases",field:"outbreak_resident_positives"},{title:"Outbreak resident deaths",field:"outbreak_resident_deaths"},{title:"Outbreak resident & staff cases",field:"outbreak_resident_staff_positives"},{title:"Outbreak resident & staff deaths",field:"outbreak_resident_staff_deaths"}],cms:[{title:"Collection date",field:"date"},{title:"Resident total confirmed cases",field:"residents-total-confirmed-covid-19"},{title:"Resident total suspected cases",field:"residents-total-suspected-covid-19"},{title:"Resident weekly confirmed cases",field:"residents-weekly-confirmed-covid-19"},{title:"Resident weekly suspected cases",field:"residents-weekly-suspected-covid-19"},{title:"Resident total deaths",field:"residents-total-covid-19-deaths"},{title:"Staff total confirmed cases",field:"staff-total-confirmed-covid-19"},{title:"Staff total suspected cases",field:"staff-total-suspected-covid-19"},{title:"Staff weekly confirmed cases",field:"staff-weekly-confirmed-covid-19"},{title:"Staff weekly suspected cases",field:"staff-weekly-suspected-covid-19"},{title:"Staff total deaths",field:"staff-total-covid-19-deaths"}]},g=function(e){var t=e.facility,a=e.layer,r=Object(f.useStaticQuery)("1592096480"),l=Object.fromEntries(r.allCovidStateInfo.nodes.map((function(e){return[e.state,e.name]})));return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"cms-cases"===a?o.a.createElement(o.a.Fragment,null,t.name):o.a.createElement(o.a.Fragment,null,t.facility_name)),"cms-cases"===a?o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,t.city,", ",l[t.state])):o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,t.city&&o.a.createElement(o.a.Fragment,null," ",t.city,", "),t.county&&o.a.createElement(o.a.Fragment,null,t.county," County, "),l[t.state]),o.a.createElement(E,{state:t.state})),o.a.createElement("dl",{className:p.a.details},h["cms-cases"===a?"cms":"ltc"].map((function(e){var a=e.title,r=e.field;return o.a.createElement("div",{key:r},o.a.createElement("dt",null,a),o.a.createElement("dd",null,t[r]||o.a.createElement(o.a.Fragment,null,"N/A")))}))))},w=a("aTGQ"),S=a("3q4p"),_=a("Lze3"),k=a.n(_),P=a("ZWUu"),x=function(e){var t=e.mapLayer;return o.a.createElement(w.a,null,o.a.createElement(P.b,{className:k.a.wrapper},o.a.createElement(P.a,{width:[4,6,4]},o.a.createElement(S.a,{layers:[{id:"facilities",name:"All Facilities Impacted"},{id:"cases",name:"Cases"},{id:"deaths",name:"Deaths"}]})),o.a.createElement(P.a,{width:[4,6,8]},o.a.createElement("div",{className:k.a.legend,"aria-hidden":!0},"cms-cases"===t||"cms-deaths"===t?o.a.createElement("div",null,"All facilities that report to the federal government."):o.a.createElement(o.a.Fragment,null,("cases"===t||"deaths"===t)&&o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:k.a.outbreakOnly}),"State reports ",o.a.createElement(f.Link,{to:"#ltc-map-definitions"},"only outbreak data")," ","cases"===t?o.a.createElement(o.a.Fragment,null,"for cases"):o.a.createElement(o.a.Fragment,null,"deaths"===t&&o.a.createElement(o.a.Fragment,null,"for deaths"))," "),o.a.createElement("span",{className:k.a.missing}),"State reports no facility-level"," ","cases"===t?o.a.createElement(o.a.Fragment,null,"case"):o.a.createElement(o.a.Fragment,null,"deaths"===t&&o.a.createElement(o.a.Fragment,null,"death"))," ","data")))))},F=a("Zb2J"),O=function(e){var t=e.title,a=e.value;return o.a.createElement("p",null,o.a.createElement("strong",null,t)," ",a?o.a.createElement(o.a.Fragment,null,a):o.a.createElement(o.a.Fragment,null,"N/A"))},N=function(e){var t=e.layer,a=e.facility,r=e.x,l=e.y,n=Object(f.useStaticQuery)("1592096480"),c=Object.fromEntries(n.allCovidStateInfo.nodes.map((function(e){return[e.state,e.name]}))),i=a.outbreak_resident_positives||a.resident_positives,s=a.outbreak_resident_deaths||a.resident_deaths;return o.a.createElement(F.a,{x:r,y:l},"cms-cases"===t?o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,a.name),o.a.createElement(O,{title:"Resident cases",value:a["residents-total-suspected-covid-19"]+a["residents-total-confirmed-covid-19"]}),o.a.createElement(O,{title:"Resident deaths",value:a["residents-total-all-deaths"]}),o.a.createElement(O,{title:"Staff cases",value:a["staff-total-suspected-covid-19"]+a["staff-total-confirmed-covid-19"]}),o.a.createElement(O,{title:"Staff deaths",value:a["staff-total-all-deaths"]})):o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,a.facility_name),o.a.createElement("p",null,(a.city||a.geocoded_city)&&o.a.createElement(o.a.Fragment,null,a.city||a.geocoded_city,", "),(a.county||a.geocoded_county)&&o.a.createElement(o.a.Fragment,null,a.county?o.a.createElement(o.a.Fragment,null,a.county.replace("COUNTY","")):o.a.createElement(o.a.Fragment,null,a.geocoded_county)," ","County,"," "),c[a.state]),i?o.a.createElement(O,{title:"Resident cases",value:a.resident_positives}):o.a.createElement(O,{title:"Resident & staff cases",value:a.resident_staff_positives}),s?o.a.createElement(O,{title:"Resident deaths",value:a.resident_deaths}):o.a.createElement(O,{title:"Resident & staff deaths",value:a.resident_staff_deaths}),i?o.a.createElement(O,{title:"Outbreak resident cases",value:a.outbreak_resident_positives}):o.a.createElement(O,{title:"Outbreak resident & staff cases",value:a.outbreak_resident_staff_positives}),s?o.a.createElement(O,{title:"Outbreak resident deaths",value:a.outbreak_resident_deaths}):o.a.createElement(O,{title:"Outbreak resident & staff deaths",value:a.outbreak_resident_staff_deaths})),o.a.createElement("p",null,"Click to view more information"))},T=a("ECuB"),j=a("TvE6"),q=a.n(j);a("rG3h"),t.a=function(e){var t=e.center,a=e.zoom,n=e.state,f=void 0!==n&&n,m=e.removeSidebar,p=void 0!==m&&m,y=e.button,b=void 0!==y&&y,v=e.listFacilities,E=void 0!==v&&v;c.a.accessToken="pk.eyJ1IjoiY292aWR0cmFja2luZ3Byb2plY3QiLCJhIjoiY2tmZW9wcWM4MDZ3MjMwbm12dWJxa29jYyJ9.puPzjg9cVlqh7i8iqdPf6w";var h=Object(l.useState)(!1),w=h[0],S=h[1],_=Object(l.useState)(!1),k=_[0],P=_[1],F=Object(l.useState)({x:0,y:0}),O=F[0],j=F[1],R=Object(l.useState)(!1),H=R[0],L=R[1],B=Object(l.useState)(!1),A=B[0],C=B[1],M=Object(l.useState)(0),W=M[0],I=M[1],Z=Object(l.useState)(!1),z=Z[0],J=Z[1],Q=Object(l.useState)("facilities"),V=Q[0],K=Q[1],D=["facilities","cases","deaths"],X=Object(l.useRef)(null),Y=Object(l.useRef)(null),U=function(e,t){var a=[[e.point.x-5,e.point.y-5],[e.point.x+5,e.point.y+5]],r=Y.current.queryRenderedFeatures(a,{layers:D});r&&r.length?(S(r[0].properties),j(e.point),t&&C(!0)):S(!1)},G=function(e){if("undefined"!=typeof window&&(window.location.hash=[].concat(Object(r.a)(e.target.getCenter().toArray()),[e.target.getZoom()]).join(",")),e.target.getZoom()<6)P(!1);else{var t=[],a=Y.current.queryRenderedFeatures({layers:D}).filter((function(e){return-1===t.indexOf(e.properties.hash)&&(t.push(e.properties.hash),!0)}));I(e.target.getZoom()),P(a.sort((function(e,t){return"cms-cases"===V?e.properties.name>t.properties.name?1:-1:e.properties.facility_name>t.properties.facility_name?1:-1})))}};return Object(l.useEffect)((function(){if(H&&H.geometry){z&&z.remove();var e=H.geometry.coordinates,t=(new c.a.Marker).setLngLat(e).addTo(Y.current);J(t)}}),[H]),Object(l.useEffect)((function(){if("undefined"!=typeof window){document.addEventListener("keydown",(function(e){"Escape"===e.key&&C(!1)}));var e=window.location.hash.replace("#","").split(","),r=new c.a.Map({container:X.current,style:"mapbox://styles/covidtrackingproject/cklwldely0z6i17qu3vh6tckd",center:e.length>2?[e[0],e[1]]:t,zoom:e.length>2?e[2]:a});r.addControl(new c.a.NavigationControl,"top-right"),r.on("load",(function(){if(f&&(D.forEach((function(e){r.setFilter(e,["==",["get","state"],f])})),E(r.queryRenderedFeatures({layers:D}))),window.location.hash&&e.length>2){var t=[],a=r.queryRenderedFeatures({layers:D}).filter((function(e){return-1===t.indexOf(e.properties.hash)&&(t.push(e.properties.hash),!0)}));P(a.sort((function(e,t){return e.properties.facility_name>t.properties.facility_name?1:-1})))}})),r.on("moveend",(function(e){G(e)})),r.on("dragend",(function(e){G(e)})),r.on("zoomend",(function(e){G(e)})),r.on("mousemove",(function(e){U(e)})),r.on("click",(function(e){U(e,!0)})),r.on("data",(function(e){e.isSourceLoaded&&G(e)})),Y.current=r}}),[]),Object(l.useEffect)((function(){Y.current&&Y.current.isStyleLoaded()&&(D.forEach((function(e){Y.current.setLayoutProperty(e,"visibility",e===V?"visible":"none")})),Y.current.setLayoutProperty("states-outbreak-only-cases","visibility","cases"===V?"visible":"none"),Y.current.setLayoutProperty("states-no-data-cases","visibility","cases"===V?"visible":"none"),Y.current.setLayoutProperty("states-outbreak-only-deaths","visibility","deaths"===V?"visible":"none"),Y.current.setLayoutProperty("states-no-data-deaths","visibility","deaths"===V?"visible":"none"))}),[V]),o.a.createElement(d.a.Provider,{value:{setMapLayer:K,mapLayer:V,infoboxPosition:O}},!p&&o.a.createElement(x,{mapLayer:V}),o.a.createElement("div",{className:q.a.container,"aria-hidden":!0},!p&&o.a.createElement(i.a,{map:Y.current},o.a.createElement(s.a,{ariaHidden:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement(s.c,{alignLeft:!0},"Name")))),k&&k.length>0?o.a.createElement("div",{className:q.a.tableScroll},o.a.createElement(s.a,null,o.a.createElement("thead",{className:"a11y-only"},o.a.createElement("tr",null,o.a.createElement(s.c,{alignLeft:!0},"Name"))),o.a.createElement("tbody",null,k.map((function(e){return o.a.createElement("tr",{onMouseEnter:function(){L(e)},onMouseLeave:function(){L(!1)},onFocus:function(){L(e)},onBlur:function(){L(!1)}},o.a.createElement(s.b,{alignLeft:!0},o.a.createElement("button",{type:"button",onClick:function(t){t.preventDefault(),S(Object.assign({},e.properties)),C(!0)}},"cms-cases"===V?e.properties.name:e.properties.facility_name)))}))))):o.a.createElement("p",null,W<6?o.a.createElement(o.a.Fragment,null,"Zoom in to get facility details."):o.a.createElement(o.a.Fragment,null,"No facilities in the current map."))),o.a.createElement(T.a,{fullWidth:p},b,A&&o.a.createElement(u.a,{close:function(){C(!1)}},o.a.createElement(g,{facility:w,layer:V})),w&&o.a.createElement(N,{layer:V,facility:w,x:O.x,y:O.y}),o.a.createElement("div",{ref:X,className:q.a.map,style:{width:"100%",height:"100%"}}))))}},A2ZE:function(e,t,a){var r=a("4zBA"),l=a("We1y"),o=a("QNWe"),n=r(r.bind);e.exports=function(e,t){return l(e),void 0===t?e:o?n(e,t):function(){return e.apply(t,arguments)}}},ImZN:function(e,t,a){var r=a("2oRo"),l=a("A2ZE"),o=a("xluM"),n=a("glrk"),c=a("DVFp"),i=a("6VoE"),s=a("B/qT"),d=a("OpvP"),u=a("mh/w"),f=a("NaFW"),m=a("KmKo"),p=r.TypeError,y=function(e,t){this.stopped=e,this.result=t},b=y.prototype;e.exports=function(e,t,a){var r,v,E,h,g,w,S,_=a&&a.that,k=!(!a||!a.AS_ENTRIES),P=!(!a||!a.IS_ITERATOR),x=!(!a||!a.INTERRUPTED),F=l(t,_),O=function(e){return r&&m(r,"normal",e),new y(!0,e)},N=function(e){return k?(n(e),x?F(e[0],e[1],O):F(e[0],e[1])):x?F(e,O):F(e)};if(P)r=e;else{if(!(v=f(e)))throw p(c(e)+" is not iterable");if(i(v)){for(E=0,h=s(e);h>E;E++)if((g=N(e[E]))&&d(b,g))return g;return new y(!1)}r=u(e,v)}for(w=r.next;!(S=o(w,r)).done;){try{g=N(S.value)}catch(T){m(r,"throw",T)}if("object"==typeof g&&g&&d(b,g))return g}return new y(!1)}},KmKo:function(e,t,a){var r=a("xluM"),l=a("glrk"),o=a("3Eq5");e.exports=function(e,t,a){var n,c;l(e);try{if(!(n=o(e,"return"))){if("throw"===t)throw a;return a}n=r(n,e)}catch(i){c=!0,n=i}if("throw"===t)throw a;if(c)throw n;return l(n),a}},Lze3:function(e,t,a){e.exports={viewportSm:"480px",viewportMs:"640px",viewportMd:"768px",viewportLg:"1080px",viewportXl:"1200px",text:"#303030",link:"#000",linkActive:"#8b8dc7",colorPlum100:"#f2f2ff",colorPlum200:"#d1d1e8",colorPlum300:"#b6b7db",colorPlum400:"#8b8dc7",colorPlum500:"#6164ba",colorPlum600:"#575aad",colorPlum700:"#31347a",colorPlum800:"#111354",colorHoney100:"#fcf9eb",colorHoney200:"#fbe8a9",colorHoney300:"#f6ce7a",colorHoney400:"#ffad4a",colorHoney500:"#e2894e",colorHoney600:"#c66b3e",colorHoney700:"#924f34",colorHoney800:"#6e2f1f",colorBlueberry100:"#e2f1fc",colorBlueberry200:"#8cc7f4",colorBlueberry300:"#0091ea",colorBlueberry400:"#004399",colorBlueberry500:"#012656",colorSlate100:"#edf1f2",colorSlate200:"#d2d6d7",colorSlate300:"#b7bcbd",colorSlate400:"#9ca1a2",colorSlate500:"#828688",colorSlate600:"#676b6d",colorSlate700:"#4c5153",colorSlate800:"#313638",colorStrawberry100:"#fbbcb2",colorStrawberry200:"#dc472e",qualitativeColorPalette100:"#b5e3db",qualiTativecolorPalette200:"#cc0",qualiTativecolorPalette300:"#a19bca",qualiTativecolorPalette400:"#f4a071",qualiTativecolorPalette500:"#2f6488",qualiTativecolorPalette600:"#527740",crdtAsian:"#E35942",crdtWhite:"#cc0",crdtBlack:"#a19bca",crdtLatinx:"#f4a071",crdtNonHispanic:"#111354",crdtNhpi:"#2f6488",crdtAian:"#527740",wrapper:"ae0f1",legend:"_8806e",outbreakOnly:"d3ed2",missing:"_75c35"}},NaFW:function(e,t,a){var r=a("9d/t"),l=a("3Eq5"),o=a("P4y1"),n=a("tiKp")("iterator");e.exports=function(e){if(null!=e)return l(e,n)||l(e,"@@iterator")||o[r(e)]}},P4y1:function(e,t){e.exports={}},Q0VS:function(e,t,a){e.exports={viewportSm:"480px",viewportMs:"640px",viewportMd:"768px",viewportLg:"1080px",viewportXl:"1200px",text:"#303030",link:"#000",linkActive:"#8b8dc7",colorPlum100:"#f2f2ff",colorPlum200:"#d1d1e8",colorPlum300:"#b6b7db",colorPlum400:"#8b8dc7",colorPlum500:"#6164ba",colorPlum600:"#575aad",colorPlum700:"#31347a",colorPlum800:"#111354",colorHoney100:"#fcf9eb",colorHoney200:"#fbe8a9",colorHoney300:"#f6ce7a",colorHoney400:"#ffad4a",colorHoney500:"#e2894e",colorHoney600:"#c66b3e",colorHoney700:"#924f34",colorHoney800:"#6e2f1f",colorBlueberry100:"#e2f1fc",colorBlueberry200:"#8cc7f4",colorBlueberry300:"#0091ea",colorBlueberry400:"#004399",colorBlueberry500:"#012656",colorSlate100:"#edf1f2",colorSlate200:"#d2d6d7",colorSlate300:"#b7bcbd",colorSlate400:"#9ca1a2",colorSlate500:"#828688",colorSlate600:"#676b6d",colorSlate700:"#4c5153",colorSlate800:"#313638",colorStrawberry100:"#fbbcb2",colorStrawberry200:"#dc472e",qualitativeColorPalette100:"#b5e3db",qualiTativecolorPalette200:"#cc0",qualiTativecolorPalette300:"#a19bca",qualiTativecolorPalette400:"#f4a071",qualiTativecolorPalette500:"#2f6488",qualiTativecolorPalette600:"#527740",crdtAsian:"#E35942",crdtWhite:"#cc0",crdtBlack:"#a19bca",crdtLatinx:"#f4a071",crdtNonHispanic:"#111354",crdtNhpi:"#2f6488",crdtAian:"#527740",details:"dd099",sharing:"_60763"}},TvE6:function(e,t,a){e.exports={viewportSm:"480px",viewportMs:"640px",viewportMd:"768px",viewportLg:"1080px",viewportXl:"1200px",text:"#303030",link:"#000",linkActive:"#8b8dc7",colorPlum100:"#f2f2ff",colorPlum200:"#d1d1e8",colorPlum300:"#b6b7db",colorPlum400:"#8b8dc7",colorPlum500:"#6164ba",colorPlum600:"#575aad",colorPlum700:"#31347a",colorPlum800:"#111354",colorHoney100:"#fcf9eb",colorHoney200:"#fbe8a9",colorHoney300:"#f6ce7a",colorHoney400:"#ffad4a",colorHoney500:"#e2894e",colorHoney600:"#c66b3e",colorHoney700:"#924f34",colorHoney800:"#6e2f1f",colorBlueberry100:"#e2f1fc",colorBlueberry200:"#8cc7f4",colorBlueberry300:"#0091ea",colorBlueberry400:"#004399",colorBlueberry500:"#012656",colorSlate100:"#edf1f2",colorSlate200:"#d2d6d7",colorSlate300:"#b7bcbd",colorSlate400:"#9ca1a2",colorSlate500:"#828688",colorSlate600:"#676b6d",colorSlate700:"#4c5153",colorSlate800:"#313638",colorStrawberry100:"#fbbcb2",colorStrawberry200:"#dc472e",qualitativeColorPalette100:"#b5e3db",qualiTativecolorPalette200:"#cc0",qualiTativecolorPalette300:"#a19bca",qualiTativecolorPalette400:"#f4a071",qualiTativecolorPalette500:"#2f6488",qualiTativecolorPalette600:"#527740",crdtAsian:"#E35942",crdtWhite:"#cc0",crdtBlack:"#a19bca",crdtLatinx:"#f4a071",crdtNonHispanic:"#111354",crdtNhpi:"#2f6488",crdtAian:"#527740",container:"_41d40",map:"_78946",searchButton:"_3f76f",toggle:"aad42",active:"_4d0f0",tableScroll:"_868ed"}},"mh/w":function(e,t,a){var r=a("2oRo"),l=a("xluM"),o=a("We1y"),n=a("glrk"),c=a("DVFp"),i=a("NaFW"),s=r.TypeError;e.exports=function(e,t){var a=arguments.length<2?i(e):t;if(o(a))return n(l(a,e));throw s(c(e)+" is not iterable")}},wfmh:function(e,t,a){var r=a("I+eb"),l=a("ImZN"),o=a("hBjN");r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return l(e,(function(e,a){o(t,e,a)}),{AS_ENTRIES:!0}),t}})}}]);
//# sourceMappingURL=9f0f944c44e0e3fa8d6243ffedc35de9c0e3f606-59c814265d1a4130a7ca.js.map