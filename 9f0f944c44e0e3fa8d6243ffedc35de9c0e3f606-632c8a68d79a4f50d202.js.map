{"version":3,"sources":["webpack:///./node_modules/core-js/internals/is-array-iterator-method.js","webpack:///./src/components/pages/data/long-term-care/map/state-alert.js","webpack:///./src/components/pages/data/long-term-care/map/facility-details.js","webpack:///./src/components/pages/data/long-term-care/map/legend.js","webpack:///./src/components/pages/data/long-term-care/map/infobox.js","webpack:///./src/components/pages/data/long-term-care/map/index.js","webpack:///./node_modules/core-js/internals/function-bind-context.js","webpack:///./node_modules/core-js/internals/iterate.js","webpack:///./node_modules/core-js/internals/iterator-close.js","webpack:///./src/components/pages/data/long-term-care/map/legend.module.scss","webpack:///./node_modules/core-js/internals/get-iterator-method.js","webpack:///./node_modules/core-js/internals/iterators.js","webpack:///./src/components/pages/data/long-term-care/map/facility-details.module.scss","webpack:///./src/components/pages/data/long-term-care/map/map.module.scss","webpack:///./node_modules/core-js/internals/get-iterator.js","webpack:///./node_modules/core-js/modules/es.object.from-entries.js"],"names":["wellKnownSymbol","Iterators","ITERATOR","ArrayPrototype","Array","prototype","module","exports","it","undefined","StateAlerts","state","data","useStaticQuery","assessment","allCovidGradeStateAssessment","nodes","find","node","stateName","allCovidStateInfo","className","infoboxStyle","alert","src","icons","ltc","alt","aria-hidden","to","childSlug","slug","adjectives","fields","title","field","cms","FacilityDetails","facility","layer","states","Object","fromEntries","map","name","facility_name","city","county","facilityDetailsStyle","details","key","Legend","mapLayer","legendStyles","wrapper","width","layers","id","legend","outbreakOnly","missing","Item","value","LtcInfobox","x","y","hasResidentCaseData","outbreak_resident_positives","resident_positives","hasResidentDeathData","outbreak_resident_deaths","resident_deaths","geocoded_city","geocoded_county","replace","resident_staff_positives","resident_staff_deaths","outbreak_resident_staff_positives","outbreak_resident_staff_deaths","LTCFacilitiesMap","center","zoom","removeSidebar","button","listFacilities","mapboxgl","accessToken","process","useState","activeFacility","setActiveFacility","facilities","setFacilities","tooltip","setTooltip","highlightedFacility","setHighlightedFacility","revealedFacility","setRevealedFacility","currentZoom","setCurrentZoom","highlighedMarker","setHighlightedMarker","setMapLayer","mapNode","useRef","mapRef","selectFacility","event","show","bbox","point","features","current","queryRenderedFeatures","length","properties","mapBoundChanged","window","location","hash","target","getCenter","toArray","getZoom","join","hashes","filter","item","indexOf","push","sort","a","b","useEffect","geometry","remove","coordinates","marker","Marker","setLngLat","addTo","document","addEventListener","split","Map","container","style","addControl","NavigationControl","on","forEach","setFilter","isSourceLoaded","isStyleLoaded","setLayoutProperty","Provider","infoboxPosition","facilitiesMapStyles","ariaHidden","alignLeft","tableScroll","onMouseEnter","onMouseLeave","onFocus","onBlur","type","onClick","preventDefault","fullWidth","close","ref","height","uncurryThis","aCallable","NATIVE_BIND","bind","fn","that","apply","arguments","call","anObject","tryToString","isArrayIteratorMethod","lengthOfArrayLike","isPrototypeOf","getIterator","getIteratorMethod","iteratorClose","$TypeError","TypeError","Result","stopped","result","this","ResultPrototype","iterable","unboundFunction","options","iterator","iterFn","index","next","step","AS_ENTRIES","IS_ITERATOR","INTERRUPTED","stop","condition","callFn","done","error","getMethod","kind","innerResult","innerError","classof","argument","usingIterator","iteratorMethod","$","iterate","createProperty","stat","obj","k","v"],"mappings":"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","file":"9f0f944c44e0e3fa8d6243ffedc35de9c0e3f606-632c8a68d79a4f50d202.js","sourcesContent":["var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","import React from 'react'\nimport { useStaticQuery, graphql, Link } from 'gatsby'\nimport infoboxStyle from '~components/common/map/infobox.module.scss'\nimport { icons, adjectives } from '~components/pages/state/state-grade'\n\nconst StateAlerts = ({ state }) => {\n  const data = useStaticQuery(graphql`\n    {\n      allCovidGradeStateAssessment {\n        nodes {\n          state\n          ltc\n        }\n      }\n      allCovidStateInfo {\n        nodes {\n          state\n          name\n          childSlug {\n            slug\n          }\n        }\n      }\n    }\n  `)\n\n  const assessment = data.allCovidGradeStateAssessment.nodes.find(\n    node => node.state === state,\n  )\n  const stateName = data.allCovidStateInfo.nodes.find(\n    node => node.state === state,\n  )\n\n  if (!assessment) {\n    return null\n  }\n  return (\n    <div className={infoboxStyle.alert}>\n      <p>\n        <img src={icons[assessment.ltc]} alt=\"\" aria-hidden />\n        <Link\n          to={`/data/state/${stateName.childSlug.slug}/assessment#long-term-care`}\n        >\n          {adjectives[assessment.ltc]} issues exist\n        </Link>{' '}\n        for long-term-care data\n      </p>\n    </div>\n  )\n}\n\nexport default StateAlerts\n","import React from 'react'\nimport { graphql, useStaticQuery } from 'gatsby'\nimport facilityDetailsStyle from './facility-details.module.scss'\nimport StateAlerts from './state-alert'\n\nconst fields = {\n  ltc: [\n    {\n      title: 'Resident cases',\n      field: 'resident_positives',\n    },\n    {\n      title: 'Resident deaths',\n      field: 'resident_deaths',\n    },\n    {\n      title: 'Staff cases',\n      field: 'staff_positive',\n    },\n    {\n      title: 'Staff deaths',\n      field: 'staff_deaths',\n    },\n    {\n      title: 'Resident & staff cases',\n      field: 'resident_staff_positives',\n    },\n    {\n      title: 'Resident & staff deaths',\n      field: 'resident_staff_deaths',\n    },\n    {\n      title: 'Outbreak resident cases',\n      field: 'outbreak_resident_positives',\n    },\n    {\n      title: 'Outbreak resident deaths',\n      field: 'outbreak_resident_deaths',\n    },\n    {\n      title: 'Outbreak resident & staff cases',\n      field: 'outbreak_resident_staff_positives',\n    },\n    {\n      title: 'Outbreak resident & staff deaths',\n      field: 'outbreak_resident_staff_deaths',\n    },\n  ],\n  cms: [\n    {\n      title: 'Collection date',\n      field: 'date',\n    },\n    {\n      title: 'Resident total confirmed cases',\n      field: 'residents-total-confirmed-covid-19',\n    },\n    {\n      title: 'Resident total suspected cases',\n      field: 'residents-total-suspected-covid-19',\n    },\n    {\n      title: 'Resident weekly confirmed cases',\n      field: 'residents-weekly-confirmed-covid-19',\n    },\n    {\n      title: 'Resident weekly suspected cases',\n      field: 'residents-weekly-suspected-covid-19',\n    },\n    {\n      title: 'Resident total deaths',\n      field: 'residents-total-covid-19-deaths',\n    },\n    {\n      title: 'Staff total confirmed cases',\n      field: 'staff-total-confirmed-covid-19',\n    },\n    {\n      title: 'Staff total suspected cases',\n      field: 'staff-total-suspected-covid-19',\n    },\n    {\n      title: 'Staff weekly confirmed cases',\n      field: 'staff-weekly-confirmed-covid-19',\n    },\n    {\n      title: 'Staff weekly suspected cases',\n      field: 'staff-weekly-suspected-covid-19',\n    },\n    {\n      title: 'Staff total deaths',\n      field: 'staff-total-covid-19-deaths',\n    },\n  ],\n}\n\nconst FacilityDetails = ({ facility, layer }) => {\n  const data = useStaticQuery(graphql`\n    {\n      allCovidStateInfo {\n        nodes {\n          state\n          name\n        }\n      }\n    }\n  `)\n  const states = Object.fromEntries(\n    data.allCovidStateInfo.nodes.map(node => [node.state, node.name]),\n  )\n\n  return (\n    <>\n      <h2>\n        {layer === 'cms-cases' ? (\n          <>{facility.name}</>\n        ) : (\n          <>{facility.facility_name}</>\n        )}\n      </h2>\n      {layer === 'cms-cases' ? (\n        <>\n          <p>\n            {facility.city}, {states[facility.state]}\n          </p>\n        </>\n      ) : (\n        <>\n          <p>\n            {facility.city && <> {facility.city}, </>}\n            {facility.county && <>{facility.county} County, </>}\n            {states[facility.state]}\n          </p>\n          <StateAlerts state={facility.state} />\n        </>\n      )}\n\n      <dl className={facilityDetailsStyle.details}>\n        {fields[layer === 'cms-cases' ? 'cms' : 'ltc'].map(\n          ({ title, field }) => (\n            <div key={field}>\n              <dt>{title}</dt>\n              <dd>{facility[field] || <>N/A</>}</dd>\n            </div>\n          ),\n        )}\n      </dl>\n    </>\n  )\n}\nexport default FacilityDetails\n\nexport { fields }\n","import React from 'react'\nimport { Link } from 'gatsby'\nimport Container from '~components/common/container'\nimport LayerToggle from '~components/common/map/layer-toggle'\nimport legendStyles from './legend.module.scss'\nimport { Col, Row } from '~components/common/grid'\n\nconst Legend = ({ mapLayer }) => (\n  <Container>\n    <Row className={legendStyles.wrapper}>\n      <Col width={[4, 6, 4]}>\n        <LayerToggle\n          layers={[\n            {\n              id: 'facilities',\n              name: 'All Facilities Impacted',\n            },\n            {\n              id: 'cases',\n              name: 'Cases',\n            },\n            {\n              id: 'deaths',\n              name: 'Deaths',\n            },\n            /* {\n              id: 'cms-cases',\n              name: 'Federal data',\n            }, */\n          ]}\n        />\n      </Col>\n      <Col width={[4, 6, 8]}>\n        <div className={legendStyles.legend} aria-hidden>\n          {mapLayer === 'cms-cases' || mapLayer === 'cms-deaths' ? (\n            <div>All facilities that report to the federal government.</div>\n          ) : (\n            <>\n              {(mapLayer === 'cases' || mapLayer === 'deaths') && (\n                <>\n                  <span className={legendStyles.outbreakOnly} />\n                  State reports&nbsp;\n                  <Link to=\"#ltc-map-definitions\">only outbreak data</Link>\n                  &nbsp;\n                  {mapLayer === 'cases' ? (\n                    <>for cases</>\n                  ) : (\n                    <>{mapLayer === 'deaths' && <>for deaths</>}</>\n                  )}{' '}\n                </>\n              )}\n              <span className={legendStyles.missing} />\n              State reports no facility-level{' '}\n              {mapLayer === 'cases' ? (\n                <>case</>\n              ) : (\n                <>{mapLayer === 'deaths' && <>death</>}</>\n              )}{' '}\n              data\n            </>\n          )}\n        </div>\n      </Col>\n    </Row>\n  </Container>\n)\n\nexport default Legend\n","/* eslint-disable max-len */\nimport React from 'react'\nimport { graphql, useStaticQuery } from 'gatsby'\nimport Infobox from '~components/common/map/infobox'\n\nconst Item = ({ title, value }) => (\n  <p>\n    <strong>{title}</strong> {value ? <>{value}</> : <>N/A</>}\n  </p>\n)\n\nconst LtcInfobox = ({ layer, facility, x, y }) => {\n  const data = useStaticQuery(graphql`\n    {\n      allCovidStateInfo {\n        nodes {\n          state\n          name\n        }\n      }\n    }\n  `)\n  const states = Object.fromEntries(\n    data.allCovidStateInfo.nodes.map(node => [node.state, node.name]),\n  )\n  const hasResidentCaseData =\n    facility.outbreak_resident_positives || facility.resident_positives\n\n  const hasResidentDeathData =\n    facility.outbreak_resident_deaths || facility.resident_deaths\n  return (\n    <Infobox x={x} y={y}>\n      {layer === 'cms-cases' ? (\n        <>\n          <h3>{facility.name}</h3>\n          <Item\n            title=\"Resident cases\"\n            value={\n              facility['residents-total-suspected-covid-19'] +\n              facility['residents-total-confirmed-covid-19']\n            }\n          />\n          <Item\n            title=\"Resident deaths\"\n            value={facility['residents-total-all-deaths']}\n          />\n          <Item\n            title=\"Staff cases\"\n            value={\n              facility['staff-total-suspected-covid-19'] +\n              facility['staff-total-confirmed-covid-19']\n            }\n          />\n          <Item\n            title=\"Staff deaths\"\n            value={facility['staff-total-all-deaths']}\n          />\n        </>\n      ) : (\n        <>\n          <h3>{facility.facility_name}</h3>\n          <p>\n            {(facility.city || facility.geocoded_city) && (\n              <>{facility.city || facility.geocoded_city}, </>\n            )}\n\n            {(facility.county || facility.geocoded_county) && (\n              <>\n                {facility.county ? (\n                  <>{facility.county.replace('COUNTY', '')}</>\n                ) : (\n                  <>{facility.geocoded_county}</>\n                )}{' '}\n                County,{' '}\n              </>\n            )}\n            {states[facility.state]}\n          </p>\n\n          {hasResidentCaseData ? (\n            <Item title=\"Resident cases\" value={facility.resident_positives} />\n          ) : (\n            <Item\n              title=\"Resident &amp; staff cases\"\n              value={facility.resident_staff_positives}\n            />\n          )}\n          {hasResidentDeathData ? (\n            <Item title=\"Resident deaths\" value={facility.resident_deaths} />\n          ) : (\n            <Item\n              title=\"Resident &amp; staff deaths\"\n              value={facility.resident_staff_deaths}\n            />\n          )}\n\n          {hasResidentCaseData ? (\n            <Item\n              title=\"Outbreak resident cases\"\n              value={facility.outbreak_resident_positives}\n            />\n          ) : (\n            <Item\n              title=\"Outbreak resident &amp; staff cases\"\n              value={facility.outbreak_resident_staff_positives}\n            />\n          )}\n          {hasResidentDeathData ? (\n            <Item\n              title=\"Outbreak resident deaths\"\n              value={facility.outbreak_resident_deaths}\n            />\n          ) : (\n            <Item\n              title=\"Outbreak resident &amp; staff deaths\"\n              value={facility.outbreak_resident_staff_deaths}\n            />\n          )}\n        </>\n      )}\n      <p>Click to view more information</p>\n    </Infobox>\n  )\n}\n\nexport default LtcInfobox\n","/* eslint-disable no-underscore-dangle,max-len,jsx-a11y/no-noninteractive-element-interactions,jsx-a11y/click-events-have-key-events */\nimport React, { useEffect, useState, useRef } from 'react'\nimport mapboxgl from 'mapbox-gl'\nimport Sidebar from '~components/common/map/sidebar'\nimport { Table, Th, Td } from '~components/common/table'\nimport MapContext from '~components/common/map/map-context'\nimport Overlay from '~components/common/map/overlay'\nimport FacilityDetails from './facility-details'\nimport Legend from './legend'\nimport Infobox from './infobox'\nimport Wrapper from '~components/common/map/wrapper'\nimport facilitiesMapStyles from './map.module.scss'\nimport 'mapbox-gl/dist/mapbox-gl.css'\n\nconst LTCFacilitiesMap = ({\n  center,\n  zoom,\n  state = false,\n  removeSidebar = false,\n  button = false,\n  listFacilities = false,\n}) => {\n  mapboxgl.accessToken = process.env.GATSBY_MAPBOX_API_TOKEN\n  const [activeFacility, setActiveFacility] = useState(false)\n  const [facilities, setFacilities] = useState(false)\n  const [tooltip, setTooltip] = useState({ x: 0, y: 0 })\n  const [highlightedFacility, setHighlightedFacility] = useState(false)\n  const [revealedFacility, setRevealedFacility] = useState(false)\n  const [currentZoom, setCurrentZoom] = useState(0)\n  const [highlighedMarker, setHighlightedMarker] = useState(false)\n  const [mapLayer, setMapLayer] = useState('facilities')\n  const layers = ['facilities', 'cases', 'deaths' /* ,'cms-cases' */]\n\n  const mapNode = useRef(null)\n  const mapRef = useRef(null)\n\n  const selectFacility = (event, show) => {\n    const bbox = [\n      [event.point.x - 5, event.point.y - 5],\n      [event.point.x + 5, event.point.y + 5],\n    ]\n    const features = mapRef.current.queryRenderedFeatures(bbox, {\n      layers,\n    })\n    if (!features || !features.length) {\n      setActiveFacility(false)\n      return\n    }\n    setActiveFacility(features[0].properties)\n    setTooltip(event.point)\n    if (show) {\n      setRevealedFacility(true)\n    }\n  }\n\n  const mapBoundChanged = event => {\n    if (typeof window !== 'undefined') {\n      window.location.hash = [\n        ...event.target.getCenter().toArray(),\n        event.target.getZoom(),\n      ].join(',')\n    }\n    if (event.target.getZoom() < 6) {\n      setFacilities(false)\n      return\n    }\n    const hashes = []\n    const features = mapRef.current\n      .queryRenderedFeatures({\n        layers,\n      })\n      .filter(item => {\n        if (hashes.indexOf(item.properties.hash) === -1) {\n          hashes.push(item.properties.hash)\n          return true\n        }\n        return false\n      })\n\n    setCurrentZoom(event.target.getZoom())\n    setFacilities(\n      features.sort((a, b) => {\n        if (mapLayer === 'cms-cases') {\n          return a.properties.name > b.properties.name ? 1 : -1\n        }\n        return a.properties.facility_name > b.properties.facility_name ? 1 : -1\n      }),\n    )\n  }\n\n  useEffect(() => {\n    if (!highlightedFacility || !highlightedFacility.geometry) {\n      return\n    }\n    if (highlighedMarker) {\n      highlighedMarker.remove()\n    }\n    const { coordinates } = highlightedFacility.geometry\n    const marker = new mapboxgl.Marker()\n      .setLngLat(coordinates)\n      .addTo(mapRef.current)\n    setHighlightedMarker(marker)\n  }, [highlightedFacility])\n\n  useEffect(() => {\n    if (typeof window === 'undefined') {\n      return\n    }\n    document.addEventListener('keydown', event => {\n      if (event.key === 'Escape') {\n        setRevealedFacility(false)\n      }\n    })\n\n    const hash = window.location.hash.replace('#', '').split(',')\n\n    const map = new mapboxgl.Map({\n      container: mapNode.current,\n      style: 'mapbox://styles/covidtrackingproject/cklwldely0z6i17qu3vh6tckd',\n      center: hash.length > 2 ? [hash[0], hash[1]] : center,\n      zoom: hash.length > 2 ? hash[2] : zoom,\n    })\n\n    map.addControl(new mapboxgl.NavigationControl(), 'top-right')\n\n    map.on('load', () => {\n      if (state) {\n        layers.forEach(layer => {\n          map.setFilter(layer, ['==', ['get', 'state'], state])\n        })\n        listFacilities(\n          map.queryRenderedFeatures({\n            layers,\n          }),\n        )\n      }\n\n      if (window.location.hash && hash.length > 2) {\n        const hashes = []\n        const features = map\n          .queryRenderedFeatures({\n            layers,\n          })\n          .filter(item => {\n            if (hashes.indexOf(item.properties.hash) === -1) {\n              hashes.push(item.properties.hash)\n              return true\n            }\n            return false\n          })\n        setFacilities(\n          features.sort((a, b) =>\n            a.properties.facility_name > b.properties.facility_name ? 1 : -1,\n          ),\n        )\n      }\n    })\n\n    map.on('moveend', event => {\n      mapBoundChanged(event)\n    })\n\n    map.on('dragend', event => {\n      mapBoundChanged(event)\n    })\n\n    map.on('zoomend', event => {\n      mapBoundChanged(event)\n    })\n\n    map.on('mousemove', event => {\n      selectFacility(event)\n    })\n\n    map.on('click', event => {\n      selectFacility(event, true)\n    })\n\n    map.on('data', event => {\n      if (event.isSourceLoaded) {\n        mapBoundChanged(event)\n      }\n    })\n\n    mapRef.current = map\n  }, [])\n\n  useEffect(() => {\n    if (!mapRef.current || !mapRef.current.isStyleLoaded()) {\n      return\n    }\n    layers.forEach(layer => {\n      mapRef.current.setLayoutProperty(\n        layer,\n        'visibility',\n        layer === mapLayer ? 'visible' : 'none',\n      )\n    })\n    mapRef.current.setLayoutProperty(\n      'states-outbreak-only-cases',\n      'visibility',\n      mapLayer === 'cases' ? 'visible' : 'none',\n    )\n\n    mapRef.current.setLayoutProperty(\n      'states-no-data-cases',\n      'visibility',\n      mapLayer === 'cases' ? 'visible' : 'none',\n    )\n    mapRef.current.setLayoutProperty(\n      'states-outbreak-only-deaths',\n      'visibility',\n      mapLayer === 'deaths' ? 'visible' : 'none',\n    )\n\n    mapRef.current.setLayoutProperty(\n      'states-no-data-deaths',\n      'visibility',\n      mapLayer === 'deaths' ? 'visible' : 'none',\n    )\n  }, [mapLayer])\n\n  return (\n    <MapContext.Provider\n      value={{\n        setMapLayer,\n        mapLayer,\n        infoboxPosition: tooltip,\n      }}\n    >\n      {!removeSidebar && <Legend mapLayer={mapLayer} />}\n      <div className={facilitiesMapStyles.container} aria-hidden>\n        {!removeSidebar && (\n          <Sidebar map={mapRef.current}>\n            <Table ariaHidden>\n              <thead>\n                <tr>\n                  <Th alignLeft>Name</Th>\n                </tr>\n              </thead>\n            </Table>\n            {facilities && facilities.length > 0 ? (\n              <div className={facilitiesMapStyles.tableScroll}>\n                <Table>\n                  <thead className=\"a11y-only\">\n                    <tr>\n                      <Th alignLeft>Name</Th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {facilities.map(facility => (\n                      <tr\n                        onMouseEnter={() => {\n                          setHighlightedFacility(facility)\n                        }}\n                        onMouseLeave={() => {\n                          setHighlightedFacility(false)\n                        }}\n                        onFocus={() => {\n                          setHighlightedFacility(facility)\n                        }}\n                        onBlur={() => {\n                          setHighlightedFacility(false)\n                        }}\n                      >\n                        <Td alignLeft>\n                          <button\n                            type=\"button\"\n                            onClick={event => {\n                              event.preventDefault()\n                              setActiveFacility({ ...facility.properties })\n                              setRevealedFacility(true)\n                            }}\n                          >\n                            {mapLayer === 'cms-cases'\n                              ? facility.properties.name\n                              : facility.properties.facility_name}\n                          </button>\n                        </Td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </Table>\n              </div>\n            ) : (\n              <p>\n                {currentZoom < 6 ? (\n                  <>Zoom in to get facility details.</>\n                ) : (\n                  <>No facilities in the current map.</>\n                )}\n              </p>\n            )}\n          </Sidebar>\n        )}\n        <Wrapper fullWidth={removeSidebar}>\n          {button}\n          {revealedFacility && (\n            <Overlay\n              close={() => {\n                setRevealedFacility(false)\n              }}\n            >\n              <FacilityDetails facility={activeFacility} layer={mapLayer} />\n            </Overlay>\n          )}\n\n          {activeFacility && (\n            <Infobox\n              layer={mapLayer}\n              facility={activeFacility}\n              x={tooltip.x}\n              y={tooltip.y}\n            />\n          )}\n          <div\n            ref={mapNode}\n            className={facilitiesMapStyles.map}\n            style={{ width: '100%', height: '100%' }}\n          />\n        </Wrapper>\n      </div>\n    </MapContext.Provider>\n  )\n}\n\nexport default LTCFacilitiesMap\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var bind = require('../internals/function-bind-context');\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar $TypeError = TypeError;\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar ResultPrototype = Result.prototype;\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator, 'normal', condition);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (!iterFn) throw $TypeError(tryToString(iterable) + ' is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && isPrototypeOf(ResultPrototype, result)) return result;\n      } return new Result(false);\n    }\n    iterator = getIterator(iterable, iterFn);\n  }\n\n  next = iterator.next;\n  while (!(step = call(next, iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator, 'throw', error);\n    }\n    if (typeof result == 'object' && result && isPrototypeOf(ResultPrototype, result)) return result;\n  } return new Result(false);\n};\n","var call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar getMethod = require('../internals/get-method');\n\nmodule.exports = function (iterator, kind, value) {\n  var innerResult, innerError;\n  anObject(iterator);\n  try {\n    innerResult = getMethod(iterator, 'return');\n    if (!innerResult) {\n      if (kind === 'throw') throw value;\n      return value;\n    }\n    innerResult = call(innerResult, iterator);\n  } catch (error) {\n    innerError = true;\n    innerResult = error;\n  }\n  if (kind === 'throw') throw value;\n  if (innerError) throw innerResult;\n  anObject(innerResult);\n  return value;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"viewportSm\":\"480px\",\"viewportMs\":\"640px\",\"viewportMd\":\"768px\",\"viewportLg\":\"1080px\",\"viewportXl\":\"1200px\",\"text\":\"#303030\",\"link\":\"#000\",\"linkActive\":\"#8b8dc7\",\"colorPlum100\":\"#f2f2ff\",\"colorPlum200\":\"#d1d1e8\",\"colorPlum300\":\"#b6b7db\",\"colorPlum400\":\"#8b8dc7\",\"colorPlum500\":\"#6164ba\",\"colorPlum600\":\"#575aad\",\"colorPlum700\":\"#31347a\",\"colorPlum800\":\"#111354\",\"colorHoney100\":\"#fcf9eb\",\"colorHoney200\":\"#fbe8a9\",\"colorHoney300\":\"#f6ce7a\",\"colorHoney400\":\"#ffad4a\",\"colorHoney500\":\"#e2894e\",\"colorHoney600\":\"#c66b3e\",\"colorHoney700\":\"#924f34\",\"colorHoney800\":\"#6e2f1f\",\"colorBlueberry100\":\"#e2f1fc\",\"colorBlueberry200\":\"#8cc7f4\",\"colorBlueberry300\":\"#0091ea\",\"colorBlueberry400\":\"#004399\",\"colorBlueberry500\":\"#012656\",\"colorSlate100\":\"#edf1f2\",\"colorSlate200\":\"#d2d6d7\",\"colorSlate300\":\"#b7bcbd\",\"colorSlate400\":\"#9ca1a2\",\"colorSlate500\":\"#828688\",\"colorSlate600\":\"#676b6d\",\"colorSlate700\":\"#4c5153\",\"colorSlate800\":\"#313638\",\"colorStrawberry100\":\"#fbbcb2\",\"colorStrawberry200\":\"#dc472e\",\"qualitativeColorPalette100\":\"#b5e3db\",\"qualiTativecolorPalette200\":\"#cc0\",\"qualiTativecolorPalette300\":\"#a19bca\",\"qualiTativecolorPalette400\":\"#f4a071\",\"qualiTativecolorPalette500\":\"#2f6488\",\"qualiTativecolorPalette600\":\"#527740\",\"crdtAsian\":\"#E35942\",\"crdtWhite\":\"#cc0\",\"crdtBlack\":\"#a19bca\",\"crdtLatinx\":\"#f4a071\",\"crdtNonHispanic\":\"#111354\",\"crdtNhpi\":\"#2f6488\",\"crdtAian\":\"#527740\",\"wrapper\":\"ae0f1\",\"legend\":\"_8806e\",\"outbreakOnly\":\"d3ed2\",\"missing\":\"_75c35\"};","var classof = require('../internals/classof');\nvar getMethod = require('../internals/get-method');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return getMethod(it, ITERATOR)\n    || getMethod(it, '@@iterator')\n    || Iterators[classof(it)];\n};\n","module.exports = {};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"viewportSm\":\"480px\",\"viewportMs\":\"640px\",\"viewportMd\":\"768px\",\"viewportLg\":\"1080px\",\"viewportXl\":\"1200px\",\"text\":\"#303030\",\"link\":\"#000\",\"linkActive\":\"#8b8dc7\",\"colorPlum100\":\"#f2f2ff\",\"colorPlum200\":\"#d1d1e8\",\"colorPlum300\":\"#b6b7db\",\"colorPlum400\":\"#8b8dc7\",\"colorPlum500\":\"#6164ba\",\"colorPlum600\":\"#575aad\",\"colorPlum700\":\"#31347a\",\"colorPlum800\":\"#111354\",\"colorHoney100\":\"#fcf9eb\",\"colorHoney200\":\"#fbe8a9\",\"colorHoney300\":\"#f6ce7a\",\"colorHoney400\":\"#ffad4a\",\"colorHoney500\":\"#e2894e\",\"colorHoney600\":\"#c66b3e\",\"colorHoney700\":\"#924f34\",\"colorHoney800\":\"#6e2f1f\",\"colorBlueberry100\":\"#e2f1fc\",\"colorBlueberry200\":\"#8cc7f4\",\"colorBlueberry300\":\"#0091ea\",\"colorBlueberry400\":\"#004399\",\"colorBlueberry500\":\"#012656\",\"colorSlate100\":\"#edf1f2\",\"colorSlate200\":\"#d2d6d7\",\"colorSlate300\":\"#b7bcbd\",\"colorSlate400\":\"#9ca1a2\",\"colorSlate500\":\"#828688\",\"colorSlate600\":\"#676b6d\",\"colorSlate700\":\"#4c5153\",\"colorSlate800\":\"#313638\",\"colorStrawberry100\":\"#fbbcb2\",\"colorStrawberry200\":\"#dc472e\",\"qualitativeColorPalette100\":\"#b5e3db\",\"qualiTativecolorPalette200\":\"#cc0\",\"qualiTativecolorPalette300\":\"#a19bca\",\"qualiTativecolorPalette400\":\"#f4a071\",\"qualiTativecolorPalette500\":\"#2f6488\",\"qualiTativecolorPalette600\":\"#527740\",\"crdtAsian\":\"#E35942\",\"crdtWhite\":\"#cc0\",\"crdtBlack\":\"#a19bca\",\"crdtLatinx\":\"#f4a071\",\"crdtNonHispanic\":\"#111354\",\"crdtNhpi\":\"#2f6488\",\"crdtAian\":\"#527740\",\"details\":\"dd099\",\"sharing\":\"_60763\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"viewportSm\":\"480px\",\"viewportMs\":\"640px\",\"viewportMd\":\"768px\",\"viewportLg\":\"1080px\",\"viewportXl\":\"1200px\",\"text\":\"#303030\",\"link\":\"#000\",\"linkActive\":\"#8b8dc7\",\"colorPlum100\":\"#f2f2ff\",\"colorPlum200\":\"#d1d1e8\",\"colorPlum300\":\"#b6b7db\",\"colorPlum400\":\"#8b8dc7\",\"colorPlum500\":\"#6164ba\",\"colorPlum600\":\"#575aad\",\"colorPlum700\":\"#31347a\",\"colorPlum800\":\"#111354\",\"colorHoney100\":\"#fcf9eb\",\"colorHoney200\":\"#fbe8a9\",\"colorHoney300\":\"#f6ce7a\",\"colorHoney400\":\"#ffad4a\",\"colorHoney500\":\"#e2894e\",\"colorHoney600\":\"#c66b3e\",\"colorHoney700\":\"#924f34\",\"colorHoney800\":\"#6e2f1f\",\"colorBlueberry100\":\"#e2f1fc\",\"colorBlueberry200\":\"#8cc7f4\",\"colorBlueberry300\":\"#0091ea\",\"colorBlueberry400\":\"#004399\",\"colorBlueberry500\":\"#012656\",\"colorSlate100\":\"#edf1f2\",\"colorSlate200\":\"#d2d6d7\",\"colorSlate300\":\"#b7bcbd\",\"colorSlate400\":\"#9ca1a2\",\"colorSlate500\":\"#828688\",\"colorSlate600\":\"#676b6d\",\"colorSlate700\":\"#4c5153\",\"colorSlate800\":\"#313638\",\"colorStrawberry100\":\"#fbbcb2\",\"colorStrawberry200\":\"#dc472e\",\"qualitativeColorPalette100\":\"#b5e3db\",\"qualiTativecolorPalette200\":\"#cc0\",\"qualiTativecolorPalette300\":\"#a19bca\",\"qualiTativecolorPalette400\":\"#f4a071\",\"qualiTativecolorPalette500\":\"#2f6488\",\"qualiTativecolorPalette600\":\"#527740\",\"crdtAsian\":\"#E35942\",\"crdtWhite\":\"#cc0\",\"crdtBlack\":\"#a19bca\",\"crdtLatinx\":\"#f4a071\",\"crdtNonHispanic\":\"#111354\",\"crdtNhpi\":\"#2f6488\",\"crdtAian\":\"#527740\",\"container\":\"_41d40\",\"map\":\"_78946\",\"searchButton\":\"_3f76f\",\"toggle\":\"aad42\",\"active\":\"_4d0f0\",\"tableScroll\":\"_868ed\"};","var call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;\n  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));\n  throw $TypeError(tryToString(argument) + ' is not iterable');\n};\n","var $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar createProperty = require('../internals/create-property');\n\n// `Object.fromEntries` method\n// https://github.com/tc39/proposal-object-from-entries\n$({ target: 'Object', stat: true }, {\n  fromEntries: function fromEntries(iterable) {\n    var obj = {};\n    iterate(iterable, function (k, v) {\n      createProperty(obj, k, v);\n    }, { AS_ENTRIES: true });\n    return obj;\n  }\n});\n"],"sourceRoot":""}