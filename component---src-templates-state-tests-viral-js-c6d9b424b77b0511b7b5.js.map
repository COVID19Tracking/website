{"version":3,"sources":["webpack:///./src/components/pages/data/definitions.js","webpack:///./src/components/layout/index.js","webpack:///./src/components/common/table-responsive.js","webpack:///./src/components/common/table.module.scss","webpack:///./src/templates/state/preprocess-annotations.js","webpack:///./src/components/common/table-responsive.module.scss","webpack:///./src/scss/global.scss","webpack:///./src/components/pages/data/definitions.module.scss","webpack:///./src/templates/state/tests-viral.js"],"names":["Definitions","definitions","order","orderedDefinitions","forEach","field","push","find","definition","fieldName","map","key","name","type","className","definitionStyles","definitionButton","arrowDown","aria-hidden","arrowUp","dangerouslySetInnerHTML","__html","childContentfulDataDefinitionDefinitionTextNode","childMarkdownRemark","html","Layout","title","displayTitle","titleLink","path","returnLinks","returnLinksContent","description","children","noMargin","hasHero","centered","socialCard","hero","centerTitle","hidewarning","flipColors","noContainer","forceSubNavigationKey","data","useStaticQuery","siteTitle","site","siteMetadata","id","TableRow","labels","row","label","format","isNumeric","noWrap","alignLeft","style","classnames","tableResponsiveStyles","tableStyles","cellLabel","value","number","TableResponsive","header","mobileShowNRows","length","table","customHeader","headerStyle","scope","slice","disclosureButton","colSpan","closed","expanded","disclosurePanel","module","exports","indexToLetter","index","toString","toUpperCase","AnnotationIcon","annotation","annotationFields","annotationContext","useContext","AnnotationPanelContext","findIndex","f","date","content","annotationSymbol","handleAnnotationClick","setCardAnnotations","fields","highlight","preprocessAnnotations","annotationsList","dataRows","annotations","i","dateWithAnnotation","annotationDates","htmlFormat","warning","childContentfulChartAnnotationDescriptionTextNode","r","fieldNameMappings","posNeg","StateTestViralTemplate","pageContext","state","slug","childSlug","totalTestResultsField","covidStateInfo","totalTestResultsTitle","allContentfulChartAnnotation","nodes","allCovidStateDaily","useState","cardAnnotations","highlightedAnnotation","setHighlightedAnnotation","link","Provider","highlightedDefinition","onHide","allContentfulDataDefinition","node","result","dateCell"],"mappings":"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","file":"component---src-templates-state-tests-viral-js-c6d9b424b77b0511b7b5.js","sourcesContent":["import React from 'react'\nimport {\n  Disclosure,\n  DisclosureButton,\n  DisclosurePanel,\n} from '@reach/disclosure'\nimport definitionStyles from './definitions.module.scss'\n\nconst Definitions = ({ definitions, order }) => {\n  const orderedDefinitions = []\n  order.forEach(field => {\n    orderedDefinitions.push(\n      definitions.find(definition => definition.fieldName === field),\n    )\n  })\n  return (\n    <>\n      <h2>Definitions</h2>\n      {orderedDefinitions.map(definition => (\n        <Disclosure key={definition.name}>\n          <DisclosureButton\n            type=\"button\"\n            className={definitionStyles.definitionButton}\n          >\n            {definition.name}{' '}\n            <span className={definitionStyles.arrowDown} aria-hidden>\n              ↓\n            </span>{' '}\n            <span className={definitionStyles.arrowUp} aria-hidden>\n              ↑\n            </span>\n          </DisclosureButton>\n          <DisclosurePanel>\n            <div\n              dangerouslySetInnerHTML={{\n                __html:\n                  definition.childContentfulDataDefinitionDefinitionTextNode\n                    .childMarkdownRemark.html,\n              }}\n            />\n          </DisclosurePanel>\n        </Disclosure>\n      ))}\n    </>\n  )\n}\n\nexport default Definitions\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useStaticQuery, graphql } from 'gatsby'\nimport { SkipNavContent } from '@reach/skip-nav'\nimport Header from './header'\nimport Footer from './footer'\nimport SEO from '~components/utils/seo'\nimport Container from '~components/common/container'\nimport SkipNavigation from '~components/utils/skip-navigation'\nimport '~scss/global.scss'\n\nconst Layout = ({\n  title,\n  displayTitle,\n  titleLink,\n  path,\n  returnLinks,\n  returnLinksContent,\n  description,\n  children,\n  noMargin,\n  hasHero,\n  centered,\n  socialCard,\n  hero,\n  centerTitle,\n  hidewarning = false,\n  flipColors = false,\n  noContainer = false,\n  forceSubNavigationKey = false,\n}) => {\n  const data = useStaticQuery(graphql`\n    query SiteTitleQuery {\n      site {\n        siteMetadata {\n          title\n        }\n      }\n    }\n  `)\n\n  return (\n    <>\n      <SEO title={title} description={description} socialCard={socialCard} />\n      <SkipNavigation />\n      <Header\n        siteTitle={data.site.siteMetadata.title}\n        title={displayTitle || title}\n        titleLink={titleLink}\n        path={path}\n        noMargin={noMargin}\n        hasHero={hasHero}\n        returnLinks={returnLinks}\n        returnLinksContent={returnLinksContent}\n        hero={hero}\n        centerTitle={centerTitle}\n        forceSubNavigationKey={forceSubNavigationKey}\n        flipColors={flipColors}\n        hidewarning={hidewarning}\n      />\n      <main id=\"main\">\n        <SkipNavContent />\n        {noContainer ? (\n          <>{children}</>\n        ) : (\n          <Container centered={centered}>{children}</Container>\n        )}\n      </main>\n      <Footer flipColors={flipColors} />\n    </>\n  )\n}\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","import React from 'react'\nimport classnames from 'classnames'\nimport {\n  Disclosure,\n  DisclosureButton,\n  DisclosurePanel,\n} from '@reach/disclosure'\n\nimport { FieldName } from '~components/utils/field-name'\nimport { FormatNumber } from '~components/utils/format'\n\nimport tableStyles from './table.module.scss'\nimport tableResponsiveStyles from './table-responsive.module.scss'\n\nconst TableRow = ({ labels, row }) => (\n  <tr>\n    {labels.map(\n      ({ field, label, format, isNumeric, noWrap, alignLeft, style }) => (\n        <td\n          className={classnames(\n            noWrap && tableResponsiveStyles.noWrap,\n            alignLeft && tableStyles.alignLeft,\n            style,\n          )}\n        >\n          <span className={tableResponsiveStyles.cellLabel} aria-hidden>\n            {label || <FieldName field={field} />}\n          </span>\n          <span className={tableResponsiveStyles.value}>\n            {isNumeric ? (\n              <FormatNumber number={row[field]} />\n            ) : (\n              <>{format ? format(row[field]) : row[field] || 'N/A'}</>\n            )}\n          </span>\n        </td>\n      ),\n    )}\n  </tr>\n)\n\nconst TableResponsive = ({\n  labels,\n  data,\n  header,\n  mobileShowNRows = data.length, // the number of rows to show on mobile\n}) => (\n  <table className={classnames(tableStyles.table, tableResponsiveStyles.table)}>\n    {header && (\n      <thead className={tableResponsiveStyles.customHeader}>{header}</thead>\n    )}\n    <thead>\n      <tr>\n        {labels.map(({ label, field, alignLeft, headerStyle }) => (\n          <th\n            scope=\"col\"\n            className={classnames(\n              alignLeft && tableStyles.alignLeft,\n              headerStyle,\n            )}\n          >\n            {label || <FieldName field={field} />}\n          </th>\n        ))}\n      </tr>\n    </thead>\n    <tbody>\n      <>\n        {data.slice(0, mobileShowNRows).map(row => (\n          <TableRow labels={labels} row={row} />\n        ))}\n        {mobileShowNRows !== data.length && (\n          <Disclosure>\n            <tr className={tableResponsiveStyles.disclosureButton}>\n              <td colSpan={labels.length}>\n                <DisclosureButton>\n                  <span className={tableResponsiveStyles.closed}>Show</span>\n                  <span className={tableResponsiveStyles.expanded}>\n                    Hide\n                  </span>{' '}\n                  all rows\n                </DisclosureButton>\n              </td>\n            </tr>\n            <DisclosurePanel className={tableResponsiveStyles.disclosurePanel}>\n              {data.slice(mobileShowNRows, data.length).map(row => (\n                <TableRow labels={labels} row={row} />\n              ))}\n            </DisclosurePanel>\n          </Disclosure>\n        )}\n      </>\n    </tbody>\n  </table>\n)\n\nexport default TableResponsive\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"viewportSm\":\"480px\",\"viewportMs\":\"640px\",\"viewportMd\":\"768px\",\"viewportLg\":\"1080px\",\"viewportXl\":\"1200px\",\"text\":\"#303030\",\"link\":\"#000\",\"linkActive\":\"#8b8dc7\",\"colorPlum100\":\"#f2f2ff\",\"colorPlum200\":\"#d1d1e8\",\"colorPlum300\":\"#b6b7db\",\"colorPlum400\":\"#8b8dc7\",\"colorPlum500\":\"#6164ba\",\"colorPlum600\":\"#575aad\",\"colorPlum700\":\"#31347a\",\"colorPlum800\":\"#111354\",\"colorHoney100\":\"#fcf9eb\",\"colorHoney200\":\"#fbe8a9\",\"colorHoney300\":\"#f6ce7a\",\"colorHoney400\":\"#ffad4a\",\"colorHoney500\":\"#e2894e\",\"colorHoney600\":\"#c66b3e\",\"colorHoney700\":\"#924f34\",\"colorHoney800\":\"#6e2f1f\",\"colorBlueberry100\":\"#e2f1fc\",\"colorBlueberry200\":\"#8cc7f4\",\"colorBlueberry300\":\"#0091ea\",\"colorBlueberry400\":\"#004399\",\"colorBlueberry500\":\"#012656\",\"colorSlate100\":\"#edf1f2\",\"colorSlate200\":\"#d2d6d7\",\"colorSlate300\":\"#b7bcbd\",\"colorSlate400\":\"#9ca1a2\",\"colorSlate500\":\"#828688\",\"colorSlate600\":\"#676b6d\",\"colorSlate700\":\"#4c5153\",\"colorSlate800\":\"#313638\",\"colorStrawberry100\":\"#fbbcb2\",\"colorStrawberry200\":\"#dc472e\",\"qualitativeColorPalette100\":\"#b5e3db\",\"qualiTativecolorPalette200\":\"#cc0\",\"qualiTativecolorPalette300\":\"#a19bca\",\"qualiTativecolorPalette400\":\"#f4a071\",\"qualiTativecolorPalette500\":\"#2f6488\",\"qualiTativecolorPalette600\":\"#527740\",\"crdtAsian\":\"#E35942\",\"crdtWhite\":\"#cc0\",\"crdtBlack\":\"#a19bca\",\"crdtLatinx\":\"#f4a071\",\"crdtNonHispanic\":\"#111354\",\"crdtNhpi\":\"#2f6488\",\"crdtAian\":\"#527740\",\"alignLeft\":\"_972ec\",\"borderLeft\":\"_4c21d\",\"headerLabel\":\"_48594\",\"headerLabel3\":\"_87c8d\",\"headerLabel4\":\"_8bd24\",\"headerLabel5\":\"_1ee0f\",\"headerLabelHidden\":\"a0e2a\",\"table\":\"e1fd0\",\"sort\":\"_903bc\",\"sortButton\":\"c8fff\",\"wide\":\"_588d8\"};","/* eslint-disable max-len */\nimport React, { useContext } from 'react'\nimport {\n  AnnotationButton,\n  AnnotationPanelContext,\n} from '~components/pages/data/cards/definitions-panel'\nimport { AnnotationBubble } from '~components/charts/bar-chart'\n\nimport tableResponsiveStyles from '~components/common/table-responsive.module.scss'\n\nconst indexToLetter = index => {\n  return (index + 10).toString(36).toUpperCase()\n}\n\nconst AnnotationIcon = ({ annotation, annotationFields }) => {\n  const annotationContext = useContext(AnnotationPanelContext)\n\n  const index = annotationFields.findIndex(f => f === annotation.field)\n\n  return (\n    <div className={tableResponsiveStyles.annotation}>\n      <AnnotationButton field={annotation.date}>\n        <AnnotationBubble\n          content={{ annotationSymbol: indexToLetter(index) }}\n          handleAnnotationClick={() => {\n            annotationContext.setCardAnnotations({\n              fields: annotationFields,\n              highlight: annotation.date,\n            })\n          }}\n        />\n      </AnnotationButton>\n    </div>\n  )\n}\n\nconst preprocessAnnotations = (annotationsList, data) => {\n  const dataRows = data\n  const annotations = annotationsList\n\n  dataRows.forEach((row, i) => {\n    dataRows[i].dateWithAnnotation = row.date\n  })\n\n  // A list of the dates with annotations.\n  const annotationDates = annotations.map(annotation => annotation.date)\n\n  annotations.forEach((annotation, index) => {\n    // Standardize the content for the DefinitionsPanel.\n    annotations[index].field = annotation.date\n    annotations[index].htmlFormat = true\n    annotations[index].warning =\n      annotation.childContentfulChartAnnotationDescriptionTextNode.childMarkdownRemark.html\n\n    // Match annotations with their respective days.\n    const row = dataRows.findIndex(r => r.date === annotation.date)\n\n    // Add the annotation icon to the dateWithAnnotation value.\n    dataRows[row].dateWithAnnotation = (\n      <>\n        <AnnotationIcon\n          annotation={annotation}\n          annotationFields={annotationDates}\n        />\n        {dataRows[row].date}\n      </>\n    )\n  })\n\n  return {\n    annotations,\n    dataRows,\n  }\n}\n\nexport default preprocessAnnotations\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"viewportSm\":\"480px\",\"viewportMs\":\"640px\",\"viewportMd\":\"768px\",\"viewportLg\":\"1080px\",\"viewportXl\":\"1200px\",\"text\":\"#303030\",\"link\":\"#000\",\"linkActive\":\"#8b8dc7\",\"colorPlum100\":\"#f2f2ff\",\"colorPlum200\":\"#d1d1e8\",\"colorPlum300\":\"#b6b7db\",\"colorPlum400\":\"#8b8dc7\",\"colorPlum500\":\"#6164ba\",\"colorPlum600\":\"#575aad\",\"colorPlum700\":\"#31347a\",\"colorPlum800\":\"#111354\",\"colorHoney100\":\"#fcf9eb\",\"colorHoney200\":\"#fbe8a9\",\"colorHoney300\":\"#f6ce7a\",\"colorHoney400\":\"#ffad4a\",\"colorHoney500\":\"#e2894e\",\"colorHoney600\":\"#c66b3e\",\"colorHoney700\":\"#924f34\",\"colorHoney800\":\"#6e2f1f\",\"colorBlueberry100\":\"#e2f1fc\",\"colorBlueberry200\":\"#8cc7f4\",\"colorBlueberry300\":\"#0091ea\",\"colorBlueberry400\":\"#004399\",\"colorBlueberry500\":\"#012656\",\"colorSlate100\":\"#edf1f2\",\"colorSlate200\":\"#d2d6d7\",\"colorSlate300\":\"#b7bcbd\",\"colorSlate400\":\"#9ca1a2\",\"colorSlate500\":\"#828688\",\"colorSlate600\":\"#676b6d\",\"colorSlate700\":\"#4c5153\",\"colorSlate800\":\"#313638\",\"colorStrawberry100\":\"#fbbcb2\",\"colorStrawberry200\":\"#dc472e\",\"qualitativeColorPalette100\":\"#b5e3db\",\"qualiTativecolorPalette200\":\"#cc0\",\"qualiTativecolorPalette300\":\"#a19bca\",\"qualiTativecolorPalette400\":\"#f4a071\",\"qualiTativecolorPalette500\":\"#2f6488\",\"qualiTativecolorPalette600\":\"#527740\",\"crdtAsian\":\"#E35942\",\"crdtWhite\":\"#cc0\",\"crdtBlack\":\"#a19bca\",\"crdtLatinx\":\"#f4a071\",\"crdtNonHispanic\":\"#111354\",\"crdtNhpi\":\"#2f6488\",\"crdtAian\":\"#527740\",\"table\":\"_4545b\",\"noWrap\":\"b6f76\",\"cellLabel\":\"_0d5cc\",\"annotation\":\"_07822\",\"dateCell\":\"_4c288\",\"value\":\"e0025\",\"customHeader\":\"_8bb7b\",\"disclosureButton\":\"_14c53\",\"closed\":\"_30bfa\",\"expanded\":\"_61282\",\"disclosurePanel\":\"_8c30c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"viewportSm\":\"480px\",\"viewportMs\":\"640px\",\"viewportMd\":\"768px\",\"viewportLg\":\"1080px\",\"viewportXl\":\"1200px\",\"text\":\"#303030\",\"link\":\"#000\",\"linkActive\":\"#8b8dc7\",\"colorPlum100\":\"#f2f2ff\",\"colorPlum200\":\"#d1d1e8\",\"colorPlum300\":\"#b6b7db\",\"colorPlum400\":\"#8b8dc7\",\"colorPlum500\":\"#6164ba\",\"colorPlum600\":\"#575aad\",\"colorPlum700\":\"#31347a\",\"colorPlum800\":\"#111354\",\"colorHoney100\":\"#fcf9eb\",\"colorHoney200\":\"#fbe8a9\",\"colorHoney300\":\"#f6ce7a\",\"colorHoney400\":\"#ffad4a\",\"colorHoney500\":\"#e2894e\",\"colorHoney600\":\"#c66b3e\",\"colorHoney700\":\"#924f34\",\"colorHoney800\":\"#6e2f1f\",\"colorBlueberry100\":\"#e2f1fc\",\"colorBlueberry200\":\"#8cc7f4\",\"colorBlueberry300\":\"#0091ea\",\"colorBlueberry400\":\"#004399\",\"colorBlueberry500\":\"#012656\",\"colorSlate100\":\"#edf1f2\",\"colorSlate200\":\"#d2d6d7\",\"colorSlate300\":\"#b7bcbd\",\"colorSlate400\":\"#9ca1a2\",\"colorSlate500\":\"#828688\",\"colorSlate600\":\"#676b6d\",\"colorSlate700\":\"#4c5153\",\"colorSlate800\":\"#313638\",\"colorStrawberry100\":\"#fbbcb2\",\"colorStrawberry200\":\"#dc472e\",\"qualitativeColorPalette100\":\"#b5e3db\",\"qualiTativecolorPalette200\":\"#cc0\",\"qualiTativecolorPalette300\":\"#a19bca\",\"qualiTativecolorPalette400\":\"#f4a071\",\"qualiTativecolorPalette500\":\"#2f6488\",\"qualiTativecolorPalette600\":\"#527740\",\"crdtAsian\":\"#E35942\",\"crdtWhite\":\"#cc0\",\"crdtBlack\":\"#a19bca\",\"crdtLatinx\":\"#f4a071\",\"crdtNonHispanic\":\"#111354\",\"crdtNhpi\":\"#2f6488\",\"crdtAian\":\"#527740\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"viewportSm\":\"480px\",\"viewportMs\":\"640px\",\"viewportMd\":\"768px\",\"viewportLg\":\"1080px\",\"viewportXl\":\"1200px\",\"text\":\"#303030\",\"link\":\"#000\",\"linkActive\":\"#8b8dc7\",\"colorPlum100\":\"#f2f2ff\",\"colorPlum200\":\"#d1d1e8\",\"colorPlum300\":\"#b6b7db\",\"colorPlum400\":\"#8b8dc7\",\"colorPlum500\":\"#6164ba\",\"colorPlum600\":\"#575aad\",\"colorPlum700\":\"#31347a\",\"colorPlum800\":\"#111354\",\"colorHoney100\":\"#fcf9eb\",\"colorHoney200\":\"#fbe8a9\",\"colorHoney300\":\"#f6ce7a\",\"colorHoney400\":\"#ffad4a\",\"colorHoney500\":\"#e2894e\",\"colorHoney600\":\"#c66b3e\",\"colorHoney700\":\"#924f34\",\"colorHoney800\":\"#6e2f1f\",\"colorBlueberry100\":\"#e2f1fc\",\"colorBlueberry200\":\"#8cc7f4\",\"colorBlueberry300\":\"#0091ea\",\"colorBlueberry400\":\"#004399\",\"colorBlueberry500\":\"#012656\",\"colorSlate100\":\"#edf1f2\",\"colorSlate200\":\"#d2d6d7\",\"colorSlate300\":\"#b7bcbd\",\"colorSlate400\":\"#9ca1a2\",\"colorSlate500\":\"#828688\",\"colorSlate600\":\"#676b6d\",\"colorSlate700\":\"#4c5153\",\"colorSlate800\":\"#313638\",\"colorStrawberry100\":\"#fbbcb2\",\"colorStrawberry200\":\"#dc472e\",\"qualitativeColorPalette100\":\"#b5e3db\",\"qualiTativecolorPalette200\":\"#cc0\",\"qualiTativecolorPalette300\":\"#a19bca\",\"qualiTativecolorPalette400\":\"#f4a071\",\"qualiTativecolorPalette500\":\"#2f6488\",\"qualiTativecolorPalette600\":\"#527740\",\"crdtAsian\":\"#E35942\",\"crdtWhite\":\"#cc0\",\"crdtBlack\":\"#a19bca\",\"crdtLatinx\":\"#f4a071\",\"crdtNonHispanic\":\"#111354\",\"crdtNhpi\":\"#2f6488\",\"crdtAian\":\"#527740\",\"definitionButton\":\"d714d\",\"arrowDown\":\"_941e8\",\"arrowUp\":\"_15b4b\"};","import React, { useState } from 'react'\nimport { graphql } from 'gatsby'\nimport TableResponsive from '~components/common/table-responsive'\nimport Definitions from '~components/pages/data/definitions'\nimport Layout from '~components/layout'\n\nimport {\n  DefinitionPanel,\n  AnnotationPanelContext,\n} from '~components/pages/data/cards/definitions-panel'\nimport tableResponsiveStyles from '~components/common/table-responsive.module.scss'\n\nimport preprocessAnnotations from './preprocess-annotations'\n\nconst fieldNameMappings = {\n  'Total Tests (PCR)': 'Total PCR tests in specimens',\n  'Total Test Encounters (PCR)': 'Total PCR tests in test encounters',\n  'Total PCR Tests (People)': 'Total PCR tests in people',\n  posNeg: 'positive + negative',\n}\n\nconst StateTestViralTemplate = ({ pageContext, path, data }) => {\n  const state = pageContext\n  const { slug } = state.childSlug\n  const { totalTestResultsField } = data.covidStateInfo\n  const totalTestResultsTitle = `Total test results - legacy (${\n    typeof fieldNameMappings[totalTestResultsField] !== 'undefined'\n      ? fieldNameMappings[totalTestResultsField]\n      : 'positive + negative'\n  })`\n\n  const { annotations, dataRows } = preprocessAnnotations(\n    data.allContentfulChartAnnotation.nodes,\n    data.allCovidStateDaily.nodes,\n  )\n\n  const [cardAnnotations, setCardAnnotations] = useState(false)\n  const [highlightedAnnotation, setHighlightedAnnotation] = useState(false)\n\n  return (\n    <Layout\n      title={`${state.name}: Viral (PCR) Tests`}\n      returnLinks={[\n        { link: '/data', title: 'Our Data' },\n        { link: `/data/state/${slug}`, title: state.name },\n      ]}\n      description={`Data definitions and historical time series of data on total and positive viral (PCR) tests in units of specimens or people for ${state.name}.`}\n      path={path}\n    >\n      <AnnotationPanelContext.Provider\n        value={{\n          annotations,\n          setCardAnnotations: ({ fields, highlight }) => {\n            setCardAnnotations(fields)\n            setHighlightedAnnotation(highlight)\n          },\n        }}\n      >\n        {cardAnnotations && (\n          <DefinitionPanel\n            annotations={annotations}\n            highlightedDefinition={highlightedAnnotation}\n            onHide={() => setCardAnnotations(false)}\n            title={`${state.name} viral tests time series information`}\n          />\n        )}\n        <Definitions\n          definitions={data.allContentfulDataDefinition.nodes.map(node => {\n            const result = { ...node }\n            if (result.fieldName === 'totalTestResults') {\n              result.name = totalTestResultsTitle\n            }\n            return result\n          })}\n          order={[\n            'positiveTestsViral',\n            'totalTestsPeopleViral',\n            'totalTestsViral',\n            'totalTestEncountersViral',\n            'totalTestResults',\n          ]}\n        />\n        <h2>Viral (PCR) Tests History</h2>\n        <TableResponsive\n          labels={[\n            {\n              field: 'dateWithAnnotation',\n              noWrap: true,\n              style: tableResponsiveStyles.dateCell,\n              label: 'Date',\n            },\n            {\n              field: 'positiveTestsViral',\n              isNumeric: true,\n            },\n            {\n              field: 'totalTestsPeopleViral',\n              isNumeric: true,\n            },\n            {\n              field: 'totalTestsViral',\n              isNumeric: true,\n            },\n            {\n              field: 'totalTestEncountersViral',\n              isNumeric: true,\n            },\n            {\n              label: totalTestResultsTitle,\n              field: 'totalTestResults',\n              isNumeric: true,\n            },\n          ]}\n          data={dataRows}\n        />\n      </AnnotationPanelContext.Provider>\n    </Layout>\n  )\n}\n\nexport default StateTestViralTemplate\n\nexport const query = graphql`\n  query($state: String!) {\n    allCovidStateDaily(\n      filter: { state: { eq: $state } }\n      sort: { fields: date, order: DESC }\n    ) {\n      nodes {\n        date(formatString: \"MMMM D, YYYY\")\n        positiveTestsViral\n        totalTestsPeopleViral\n        totalTestsViral\n        totalTestEncountersViral\n        totalTestResults\n      }\n    }\n    allContentfulChartAnnotation(\n      filter: { state: { code: { eq: $state } }, dataElement: { eq: \"tests\" } }\n      sort: { fields: date, order: DESC }\n    ) {\n      nodes {\n        date(formatString: \"MMMM D, YYYY\")\n        childContentfulChartAnnotationDescriptionTextNode {\n          childMarkdownRemark {\n            html\n          }\n        }\n      }\n    }\n    allContentfulDataDefinition(\n      filter: {\n        fieldName: {\n          in: [\n            \"positiveTestsViral\"\n            \"totalTestsPeopleViral\"\n            \"totalTestsViral\"\n            \"totalTestEncountersViral\"\n            \"totalTestResults\"\n          ]\n        }\n      }\n    ) {\n      nodes {\n        fieldName\n        name\n        childContentfulDataDefinitionDefinitionTextNode {\n          childMarkdownRemark {\n            html\n          }\n        }\n      }\n    }\n    covidStateInfo(state: { eq: $state }) {\n      totalTestResultsField\n    }\n  }\n`\n"],"sourceRoot":""}